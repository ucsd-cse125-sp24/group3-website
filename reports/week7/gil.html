<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Torchlight Games</title>
    <link rel="stylesheet" href="../individualreport.css">
</head>
<body>
    <h1>Gil's Week 7 Individual Report</h1>

    <h2>What were your concrete goals for the week?</h2>

    <p>From last week's report, my goals for this week were to:</p>

    <ul>
        <li>
            <p>Gameplay</p>
            <ul>
                <li>
                    <p>
                        After settling on a victory condition implementation, implement this victory condition so that the game can correctly end when either side satisfies their victory condition.
                    </p>
                </li>
            </ul>
        </li>
        <li>
            <p>Music</p>
            <ul>
                <li>
                    <p>
                        Compose the main menu theme
                    </p>
                </li>
                <li>
                    <p>
                        Compose the theme(s) for exploring the maze (can use the Green / Yellow / Red indicators for level of urgency)
                    </p>
                </li>
                <li>
                    <p>
                        Compose victory themes (for the players and for the DM) 
                    </p>
                </li>
            </ul>
        </li>
        <li>
            <p>Debugger (low priority)</p>
            <ul>
                <li>
                    <p>
                        Update the debugger to allow the user to access all fields of
                        the <code>ServerGameState</code> and <code>SharedGameState</code>
                    </p>
                </li>
            </ul>
        </li>
    </ul>

    <h2>What goals were you able to accomplish?</h2>
    <p>
        First, regarding gameplay - I was able to implement the victory condition as
        our group had discussed in our Wednesday meeting last week. This meant that
        every game match would be divided into two <code>MatchPhase</code>s as
        follows:
    </p>
    <ul>
        <li>
            <p>
                <code>MatchPhase::MazeExploration</code>
            </p>
            <ul>
                <li>
                    <p>
                        This is the <code>MatchPhase</code> that the game match starts
                        in. In this phase, the players wander the maze in search of an
                        <code>Orb</code>; they must find this <code>Orb</code> to leave
                        as all of the exits of the labyrinth are closed in this phase.
                        The timer isn't activated yet and so this phase can take an
                        unknown amount of time.
                    </p>
                </li>
            </ul>
        </li>
        <li>
            <p>
                <code>MatchPhase::RelayRace</code>
            </p>
            <ul>
                <li>
                    <p>
                        This is the second <code>MatchPhase</code> of the game match
                        and as soon as it starts a timer countdown is started and all
                        of the exits are opened.
                    </p>
                </li>
                <li>
                    <p>
                        This phase begins once either a player picks up the <code>Orb</code>
                        or the 3 players in the dungeon die a sufficient amount of
                        times (i.e., the Dungeon Master can cause this phase to begin
                        early by successfully killing the players enough times). This
                        means that this phase can begin before the <code>Orb</code>
                        has been found which is a necessary condition for the players
                        to leave. This phase is called a "relay race" as Tyler put it
                        since the 3 players, once they find the <code>Orb</code>, must
                        get it to an exit - specifically, in order to win, a player must
                        go through (collide with) an open exit while carrying the <code>Orb</code>.
                        Since all items are dropped on a player's death, the players must work
                        together to get the <code>Orb</code> to an exit.
                    </p>
                </li>
            </ul>
        </li>
    </ul>

    <p>
        I implemented the necessary server logic for this victory condition to work
        and added an initial GUI overlay to communicate to the players the current Orb
        state, the timer value (if in <code>MatchPhase::RelayRace</code>), and the number
        of player deaths. I also added initial "Victory" and "Defeat" screens that will display
        once the game match ends (either because a player collided with an open exit while
        carrying the <code>Orb</code> or because no player successfully did so within
        the time limit).
    </p>

    <h3>Some screenshots from the initial UI:</h3>

    <figure>
        <picture>
            <img src="gil-assets/ui-maze-exploration.png" width="800px">
        </picture>
        <figcaption>Player UI while in <code>MatchPhase::MazeExploration</code></figcaption>
    </figure>
    <figure>
        <picture>
            <img src="gil-assets/ui-relay-race.png" width="800px">
        </picture>
        <figcaption>
            <p>
                Player UI while in <code>MatchPhase::RelayRace</code> (started early due to player death counter meeting threshold)
            </p>
        </figcaption>
    </figure>
    <figure>
        <picture>
            <img src="gil-assets/ui-relay-race-carrying-orb.png" width="800px">
        </picture>
        <figcaption>Player UI while carrying the <code>Orb</code> <a href="https://youtu.be/eXJFbsQBvLw?si=xg88bG1AUt1xv7VR">(of Orbos)</a></figcaption>
    </figure>

    <h3>Music</h3>

    <p>
        I haven't been able to yet finish any of the themes for the game except for
        the short "Start Game" theme, but I've definitely made progress here. I've never
        written music for a video game before, and I realize that there are certain
        particular difficulties in doing so when compared to "normal" composition
        (for instance, you don't know exactly what will happen in the game as the music
        is playing (unlike in movie scores) and music may need to be played for an unknown
        amount of time).
    </p>

    <p>
        The scope for music in this game can be very extensive for completeness;
        specifically, I can think of the following potential areas where, ideally,
        unique music should be played:
    </p>

    <ol>
        <li>Main Menu</li>
        <li>Start Game (short theme for game start animation)</li>
        <li>
            In-game:
            <ol>
                <li><code>MatchPhase::MazeExploration</code> theme</li>
                <li><code>MatchPhase::RelayRace</code> theme</li>
            </ol>
            <p>Note: these themes are specifically for the players - the Dungeon
                Master can have a different score entirely during these two phases!
                However, to reduce scope I will assume the same music plays here
                unless time allows.
            </p>
            <ol>
                <li>Victory Themes (short)
                    <ol>
                        <li>Players</li>
                        <li>Dungeon Master</li>
                        <p>
                            Either the victory theme of either party plays for all
                            players when that party wins (e.g., the players hear
                            the Dungeon Master's victory theme when they lose),
                            or there will need to be separate "defeat" themes as
                            well
                        </p>
                    </ol>
                </li>
            </ol>
        </li>
    </ol>

    <p>
        In my expectation, the longer tracks would be for the main menu and for the
        two <code>MatchPhase</code>s.
    </p>

    <p>
        Additionally, there could be very short "sound effect" themes for particular
        actions / events, such as when the <code>Orb</code> is picked up, when it is
        dropped, when a player is killed, etc.
    </p>

    <p>
        I'm still in the process of figuring things out here, but I'm trying to pursue
        an approach in which I come up with leitmotifs first and then use these as a
        basis for the longer tracks.
    </p>

    <p>
        A leitmotif, by my knowledge, is a typically short musical theme that is assigned
        to a person, object, place, mood, etc. This is a very powerful story-telling
        technique in music that is applied extensively in movie scores and in video games;
        an excellent example are the many themes in the Lord of the Rings movies, such
        as the Shire theme, Rohan theme, Gondor theme, Ring theme, etc. Once assigned,
        whenever the audience hears the theme, they know to associate it back to the
        person / object / place that it was assigned to, and in this way the music can
        "tell the story" along with the visuals and the dialogue.
    </p>

    <p>
        In our game, there a few entities of note: the 3 <code>Player</code>s who
        are our heroes, the Dungeon Master (who is the angry god Zeus), and the Labyrinth
        itself.
    </p>

    <p>
        For the heroes, I have a simple short leitmotif:
    </p>

    <figure>
        <picture>
            <img src="gil-assets/hero-leitmotif.png" width="500px">
        </picture>
        <figcaption>The Hero leitmotif.</figcaption>
    </figure>

    <p>
        This is a "warrior horn" cry, with the fast repeated notes and a jump to the
        dominant note (here, B as the key is E minor).
    </p>

    <p>
        One thing I should mention first is what the menu will look like (or at least how we plan it to look), as it informs the composition of the menu theme and of the Start Game theme. The main menu is planned to have the UI overlaid over an animation of the labyrinth entrance which proceeds into darkness and the entrance is surrounded by two torches that flicker in the night. 
    </p>

    <p>
        When the player starts the game, a short animation will play of the camera moving forward into the dungeon entrance.
    </p>

    <p>
        Therefore, the Start Game theme is built on the players’ heroic leitmotif as outlined in the picture below as essentially the idea is that the hero is buckling up his courage and charging into the dungeon.
    </p>

    <figure>
        <picture>
            <img src="gil-assets/hero-leitmotif-start-game-theme.png" width="1000px">
        </picture>
        <figcaption>The start game theme is built mostly on the Hero leitmotif.</figcaption>
    </figure>

    <p>Here is the start game theme:</p>

    <audio src="assets/music/Wrath of Zeus - Start Game Theme v2.wav" controls></audio>

    <p>Also, here is an unfinished but current draft for the <code>RelayRace</code>
    phase</p>

    <audio src="assets/music/Wrath of Zeus - Relay Race Theme unfinished mp3.mp3" controls></audio>

    <p>
        In the main menu, the music should help the player get into the atmosphere of the game. In a sense the player should imagine themselves being the hero standing at the entrance of the dungeon. There’s a sense of foreboding due to the dungeon’s unknown tricks and terrors, and the fact that once you enter the dungeon, you’re at the whim of the angry god Zeus. The hero contemplates all of this before they enter the dungeon, challenging Zeus. The music in the menu should take all of this into account in an effort both to portray the scene, introduce the leitmotifs of the hero and the dungeon (which I still need to come up with), and get the player into the mood of playing the game.
    </p>

    <h2>If the week went differently than you had planned, what were the reasons?</h2>

    <p>
        I think this week went more or less according to plan except that it’s taking some time to figure out the music aspect of things.
    </p>

    <h2>What are your specific goals for next week?</h2>

    <p>
        My goals for next week are as follows:
    </p>

    <ul>
        <li>Gameplay
            <ul>
                <li>
                    UI
                    <ul>
                        <li>
                            <p>
                                Create a UI flowchart (i.e., transition diagram between
                                <code>GUIState</code>s) and add buttons to move between
                                <code>GUIState</code>s where necessary
                            </p>
                            <ul>
                                <li>
                                    <p>
                                        This is to fix some issues right now where for instance you can’t go back to the main menu once you click “Start Game” (you’re stuck in the lobby page from that point onward)
                                    </p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <p>
                                Create UI mockup for the game HUD UI (right now some of the
                                text I added is cluttered and I'm not sure it communicates
                                the <code>MatchPhase</code> state and objectives well
                                to the player)
                            </p>
                        </li>
                    </ul>
                </li>
                <li>
                    Add server reset once a game match ends
                    <ul>
                        <li>
                            <p>
                                Once a game match ends, the server should “reset” with a new game match. Clients should be able to exit the game that ended and re-enter the lobby of the original server to queue up for the next match. 
                            </p>
                            <ul>
                                <li>
                                    <p>
                                        I’m not sure exactly how to do this - I’m assuming there might be networking-related code that might have to be affected here, perhaps to disconnect the current players or something like this. I’m not familiar with our game’s networking code setup (this was more Tyler’s and Edward’s territory) so I’ll likely need their help if this comes up.

                                    </p>
                                </li>
                                <li>
                                    <p>
                                        It might also make sense that the server shouldn't
                                        kick out the players that already connected, and
                                        just reset the <code>ServerGameState</code>;
                                        though the clients must also know to reset their
                                        <code>SharedGameState</code> copies, and the
                                        players' <code>EntityID</code>s must be reset
                                        as well. I don't think this is very straightforward,
                                        but hopefully I'm wrong.
                                    </p>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>Music
            <ul>
                <li>Come up with leitmotif for the dungeon</li>
                <li>Come up with leitmotif for Zeus</li>
                <li>Compose the main menu theme</li>
                <li>Compose the Maze Exploration theme</li>
                <li>Finish the Relay Race theme</li>
                <li>Compose victory themes for both player parties</li>
            </ul>
        </li>
    </ul>

    <h2>What did you learn this week, if anything (and did you expect to learn it?)</h2>

    <p>
        I learned more about the GUI framework that Tyler set up for the client UI in order to implement the initial UI for the game match phase info (i.e., orb state, timer value, and number of player deaths, as well as Victory and Defeat screens)
    </p>

    <h2>What is your individual morale (which might be different from the overall group morale)?</h2>

    <p>I'm excited to finally complete our MVP and start playtesting our game - hopefully
        we'll soon enter a stage of mostly polishing the game, seeing as many of our intended
        mechanics are already in it. I'm alsoe excited to try to compose the music for our
        game - it's a fantastic and interesting opportunity and I hope to write music
        that serves the game well.
    </p>

</body>
</html>